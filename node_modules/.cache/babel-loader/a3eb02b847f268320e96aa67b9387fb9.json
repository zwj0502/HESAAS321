{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\permission.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\permission.js","mtime":1664200844114},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\babel.config.js","mtime":1663904824000},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661582974512},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1661052815255},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\eslint-loader\\index.js","mtime":1661583002635}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL2hyc2FhcygxKS9ocnNhYXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvaHJzYWFzKDEpL2hyc2Fhcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKdmFyIHdoZXRlZWxpc3QgPSBbJy9sb2dpbicsICcvNDA0J107IC8vIOS7u+S9leS4gOS4qui3r+eUsei3s+i9rCDpg73kvJrov5vlhaXov5nkuKrlhajlsYDliY3nva7lrojljasKCnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghc3RvcmUuZ2V0dGVycy50b2tlbikgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc3RvcmUuZ2V0dGVycy51c2VySWQpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgndXNlci9nZXRVc2VyaW5mbycpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgaWYgKHRvLnBhdGggPT09ICcvbG9naW4nKSB7CiAgICAgICAgICAgICAgbmV4dCgnLycpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgaWYgKHdoZXRlZWxpc3QuaW5jbHVkZXModG8ucGF0aCkpIHsKICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmV4dCgnL2xvZ2luJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOw=="},{"version":3,"names":["router","store","wheteelist","beforeEach","to","from","next","getters","token","userId","dispatch","path","includes"],"sources":["C:/Users/Administrator/Desktop/hrsaas(1)/hrsaas/src/permission.js"],"sourcesContent":["import router from '@/router'\r\nimport store from '@/store'\r\nconst wheteelist = ['/login', '/404']\r\n// 任何一个路由跳转 都会进入这个全局前置守卫\r\nrouter.beforeEach(async(to, from, next) => {\r\n  // ...\r\n  // to 将要进入的目标\r\n  // from 当前导航正要离开的路由\r\n  // next  Function\r\n  // next() 意味着都 当前这个钩子 结束 进入下一个\r\n  // next(false) 中断当前的导航\r\n  // next('/') 或者 next({ path: '/' })  跳转到一个不同的地址\r\n  //  当前的导航被中断，然后进行一个新的导航\r\n  if (store.getters.token) {\r\n    if (!store.getters.userId) {\r\n      await store.dispatch('user/getUserinfo')\r\n    }\r\n    if (to.path === '/login') {\r\n      next('/')\r\n    } else {\r\n      next()\r\n    }\r\n  } else {\r\n    if (wheteelist.includes(to.path)) {\r\n      next()\r\n    } else {\r\n      next('/login')\r\n    }\r\n  }\r\n})\r\n"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,IAAMC,UAAU,GAAG,CAAC,QAAD,EAAW,MAAX,CAAnB,C,CACA;;AACAF,MAAM,CAACG,UAAP;EAAA,sEAAkB,iBAAMC,EAAN,EAAUC,IAAV,EAAgBC,IAAhB;IAAA;MAAA;QAAA;UAAA;YAAA,KASZL,KAAK,CAACM,OAAN,CAAcC,KATF;cAAA;cAAA;YAAA;;YAAA,IAUTP,KAAK,CAACM,OAAN,CAAcE,MAVL;cAAA;cAAA;YAAA;;YAAA;YAAA,OAWNR,KAAK,CAACS,QAAN,CAAe,kBAAf,CAXM;;UAAA;YAad,IAAIN,EAAE,CAACO,IAAH,KAAY,QAAhB,EAA0B;cACxBL,IAAI,CAAC,GAAD,CAAJ;YACD,CAFD,MAEO;cACLA,IAAI;YACL;;YAjBa;YAAA;;UAAA;YAmBd,IAAIJ,UAAU,CAACU,QAAX,CAAoBR,EAAE,CAACO,IAAvB,CAAJ,EAAkC;cAChCL,IAAI;YACL,CAFD,MAEO;cACLA,IAAI,CAAC,QAAD,CAAJ;YACD;;UAvBa;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAlB;;EAAA;IAAA;EAAA;AAAA"}]}