{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\views\\employees\\components\\assignRole.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\views\\employees\\components\\assignRole.vue","mtime":1665904842262},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\babel.config.js","mtime":1663904824000},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661678001124},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1663928692628},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661678001124},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\vue-loader\\lib\\index.js","mtime":1664288167520}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL2hyc2FhcygxKS9ocnNhYXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvaHJzYWFzKDEpL2hyc2Fhcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJvbGVzQXBpIH0gZnJvbSAnQC9hcGkvcm9sZXMnOwppbXBvcnQgeyBnZXRVc2VyRGV0YWlsQnlJZCwgc2V0ZW1wbG95ZWVzUm9sZXMgfSBmcm9tICdAL2FwaS91c2VyJzsgLy8gaW1wb3J0IHsgc2V0ZW1wbG95ZWVzUm9sZXMgfSBmcm9tICdAL2FwaS91c2VyJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSb2xlJywKICBwcm9wczogewogICAgZGlhbG9nVmlzaWJsZVNldDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoZWNrTGlzdDogW10sCiAgICAgIHJvbGU6IFtdLAogICAgICB1c2VySWQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFucmRjbG9zZTogZnVuY3Rpb24gaGFucmRjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmRpYWxvZ1Zpc2libGVTZXQnLCBmYWxzZSk7IC8vICAgdGhpcy5jaGVja0xpc3QgPSBbXQogICAgfSwKICAgIG9wZW5CdG46IGZ1bmN0aW9uIG9wZW5CdG4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkcm9sZXNBcGksIHJvd3M7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJvbGVzQXBpKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRyb2xlc0FwaSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByb3dzID0gX3lpZWxkJHJvbGVzQXBpLnJvd3M7CiAgICAgICAgICAgICAgICBfdGhpcy5yb2xlID0gcm93czsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldGVtcGxveWVzc1JvbGU6IGZ1bmN0aW9uIGdldGVtcGxveWVzc1JvbGUoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIudXNlcklkID0gaWQ7IC8vICAgY29uc29sZS5sb2coJ+WRmOW3peS/oeaBrycpCiAgICAgICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGlkKQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRVc2VyRGV0YWlsQnlJZChpZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgICBfdGhpczIuY2hlY2tMaXN0ID0gcmVzLnJvbGVJZHMgfHwgW107CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldGVtcGxveWVlc1JvbGVzQnRuOiBmdW5jdGlvbiBzZXRlbXBsb3llZXNSb2xlc0J0bigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5jaGVja0xpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcign5LiN6IO95Li656m6JykpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gc2V0ZW1wbG95ZWVzUm9sZXMoewogICAgICAgICAgICAgICAgICBpZDogX3RoaXMzLnVzZXJJZCwKICAgICAgICAgICAgICAgICAgcm9sZUlkczogX3RoaXMzLmNoZWNrTGlzdAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCfmiJDlip8nKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuaGFucmRjbG9zZSgpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcign5aSx6LSlJyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMiwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;AAmBA;AACA,kE,CACA;;AACA;EACAA,YADA;EAEAC;IACAC;MACAC,aADA;MAEAC;IAFA;EADA,CAFA;EAQAC,IARA,kBAQA;IACA;MACAC,aADA;MAEAC,QAFA;MAGAC;IAHA;EAKA,CAdA;EAeAC;IACAC,UADA,wBACA;MACA,6CADA,CAEA;IACA,CAJA;IAKAC,OALA,qBAKA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,UADA;;cAAA;gBAAA;gBACAC,IADA,mBACAA,IADA;gBAEA;;cAFA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA,CARA;IASAC,gBATA,4BASAC,EATA,EASA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA,mBADA,CAEA;gBACA;;gBAHA;gBAAA,OAIAC,qBAJA;;cAAA;gBAIAC,GAJA;gBAKA;gBACA;;cANA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOA,CAhBA;IAiBAC,oBAjBA,kCAiBA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA,uBADA;kBAAA;kBAAA;gBAAA;;gBAAA,kCACA,6BADA;;cAAA;gBAAA;gBAAA;gBAAA,OAGAC;kBAAAJ;kBAAAK;gBAAA,EAHA;;cAAA;gBAIA;;gBACA;;gBALA;gBAAA;;cAAA;gBAAA;gBAAA;;gBAOA;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA;EA1BA;AAfA","names":["name","props","dialogVisibleSet","type","default","data","checkList","role","userId","methods","hanrdclose","openBtn","rolesApi","rows","getemployessRole","id","getUserDetailById","res","setemployeesRolesBtn","setemployeesRoles","roleIds"],"sourceRoot":"src/views/employees/components","sources":["assignRole.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    title=\"权限分配\"\r\n    :visible=\"dialogVisibleSet\"\r\n    width=\"50%\"\r\n    @close=\"hanrdclose\"\r\n    @open=\"openBtn\"\r\n  >\r\n    <el-checkbox-group v-model=\"checkList\">\r\n      <el-checkbox v-for=\"item in role\" :key=\"item.id\" :label=\"item.id\">{{ item.name }}</el-checkbox>\r\n    </el-checkbox-group>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"$emit('update:dialogVisibleSet',false)\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"setemployeesRolesBtn\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { rolesApi } from '@/api/roles'\r\nimport { getUserDetailById, setemployeesRoles } from '@/api/user'\r\n// import { setemployeesRoles } from '@/api/user'\r\nexport default {\r\n  name: 'Role',\r\n  props: {\r\n    dialogVisibleSet: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      checkList: [],\r\n      role: [],\r\n      userId: ''\r\n    }\r\n  },\r\n  methods: {\r\n    hanrdclose() {\r\n      this.$emit('update:dialogVisibleSet', false)\r\n    //   this.checkList = []\r\n    },\r\n    async openBtn() {\r\n      const { rows } = await rolesApi()\r\n      this.role = rows\r\n    },\r\n    async getemployessRole(id) {\r\n      this.userId = id\r\n      //   console.log('员工信息')\r\n      //   console.log(id)\r\n      const res = await getUserDetailById(id)\r\n      //   console.log(res)\r\n      this.checkList = res.roleIds || []\r\n    },\r\n    async setemployeesRolesBtn() {\r\n      if (!this.checkList.length) return this.$message.error('不能为空')\r\n      try {\r\n        await setemployeesRoles({ id: this.userId, roleIds: this.checkList })\r\n        this.$message.success('成功')\r\n        this.hanrdclose()\r\n      } catch (error) {\r\n        this.$message.error('失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}