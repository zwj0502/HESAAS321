{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\views\\setting\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\views\\setting\\index.vue","mtime":1666148787686},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\babel.config.js","mtime":1663904824000},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661678001124},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1663928692628},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661678001124},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\vue-loader\\lib\\index.js","mtime":1664288167520}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL2hyc2FhcygxKS9ocnNhYXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvaHJzYWFzKDEpL2hyc2Fhcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9ocnNhYXMoMSkvaHJzYWFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFkZFJvbGUgZnJvbSAnLi9jb21wb25lbnRzL2FkZFJvbGUudnVlJzsKaW1wb3J0IHsgZ2V0Um9sZUxpc3QgYXMgX2dldFJvbGVMaXN0LCBkZWxldGVSb2xlLCBnZXRDb21wYW55SW5mbyB9IGZyb20gJ0AvYXBpL3NldHRpbmcnOwppbXBvcnQgYWRkU2V0cGVybWlzc2lvbnMgZnJvbSAnLi9jb21wb25lbnRzL2FkZFNldHBlcm1pc3Npb25zLnZ1ZSc7CmltcG9ydCBkaXNhYmxlZFJvbGVCdG4gZnJvbSAnQC9taXNpbnMvZGlzYWJsZWRSb2xlQnRuJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIcnNhYXNJbmRleCcsCiAgY29tcG9uZW50czogewogICAgYWRkUm9sZTogYWRkUm9sZSwKICAgIGFkZFNldHBlcm1pc3Npb25zOiBhZGRTZXRwZXJtaXNzaW9ucwogIH0sCiAgbWl4aW5zOiBbZGlzYWJsZWRSb2xlQnRuXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlTmFtZTogJ2ZpcnN0JywKICAgICAgcGFnZTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgcGFnZXNpemU6IDEwCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwLAogICAgICByb3dzTGlzdDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgQ29tcGFueUluZm86IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIC8vIGNvbXB1dGVkOiB7CiAgLy8gICBkaXNhYmxlZFJvbGUoKSB7CiAgLy8gICAgIHJldHVybiBmdW5jdGlvbihkaXNhYmxlZFJvbGVJZCkgewogIC8vICAgICAgIHJldHVybiAhdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyaW5mby5yb2xlcy5wb2ludHMuaW5jbHVkZXMoZGlzYWJsZWRSb2xlSWQpCiAgLy8gICAgIH0KICAvLyAgIH0KICAvLyB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFJvbGVMaXN0KCk7CiAgICB0aGlzLmdldENvbXBhbnkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFJvbGVMaXN0OiBmdW5jdGlvbiBnZXRSb2xlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfZ2V0Um9sZUxpc3QsIHRvdGFsLCByb3dzOwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2dldFJvbGVMaXN0KF90aGlzLnBhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfeWllbGQkX2dldFJvbGVMaXN0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRvdGFsID0gX3lpZWxkJF9nZXRSb2xlTGlzdC50b3RhbDsKICAgICAgICAgICAgICAgIHJvd3MgPSBfeWllbGQkX2dldFJvbGVMaXN0LnJvd3M7CgogICAgICAgICAgICAgICAgLy8gdG90YWwg5aSn5LqOMCDlubbkuJQgcm93c+eahGxlbmd0aCA9PT0gMCDov5nnp43mg4XlhrXlubbkuI3mmK/mraPlnKjnmoTmsqHmnInmlbDmja4g5piv5pyJ55qE77yM6KaB6YeN5paw5Y+R6LW36K+35rGCCiAgICAgICAgICAgICAgICBpZiAodG90YWwgPiAwICYmIHJvd3MubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnBhZ2UucGFnZSA9IF90aGlzLnBhZ2UucGFnZSAtIDE7CgogICAgICAgICAgICAgICAgICBfdGhpcy5nZXRSb2xlTGlzdCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLnJvd3NMaXN0ID0gcm93czsKICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsID0gdG90YWw7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBNZXNzYWdlQ2hhbm5lbC5lcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDE1KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMTIsIDE1LCAxOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkUm9sZTogZnVuY3Rpb24gYWRkUm9sZSgpIHsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBlZGl0QnRuOiBmdW5jdGlvbiBlZGl0QnRuKHJvdykgewogICAgICB0aGlzLiRyZWZzLmFkZFJvbGUuZm9ybURhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCByb3cpOwogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIG5ld1Byb3BvKCkgewogICAgLy8gfQogICAgZGVsUm93OiBmdW5jdGlvbiBkZWxSb3coaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5paH5Lu2LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZVJvbGUoaWQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczIuZ2V0Um9sZUxpc3QoKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Q29tcGFueTogZnVuY3Rpb24gZ2V0Q29tcGFueSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcGFueUluZm8oX3RoaXMzLiRzdG9yZS5nZXR0ZXJzLmNvbXBhbnlJZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIF90aGlzMy5Db21wYW55SW5mbyA9IHJlczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0cGVybWlzc2lvbnM6IGZ1bmN0aW9uIHNldHBlcm1pc3Npb25zKGlkKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkU2V0cGVybWlzc2lvbnMuZ2V0cGVybWlzc2lvblJsZWlkKGlkKTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0gLy8gZGlzYWJsZWRSb2xlKGRpc2FibGVkSWQpIHsKICAgIC8vICAgLy8gY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyaW5mbykKICAgIC8vICAgcmV0dXJuICF0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJpbmZvLnJvbGVzLnBvaW50cy5pbmNsdWRlcyhkaXNhYmxlZElkKQogICAgLy8gfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;EACAA,mBADA;EAEAC;IACAC,gBADA;IACAC;EADA,CAFA;EAKAC,yBALA;EAMAC,IANA,kBAMA;IACA;MACAC,mBADA;MAEAC;QACAA,OADA;QAEAC;MAFA,CAFA;MAMAC,QANA;MAOAC,YAPA;MAQAC,cARA;MASAC,cATA;MAUAC,eAVA;MAWAC;IAXA;EAaA,CApBA;EAqBA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAC,OA7BA,qBA6BA;IACA;IACA;EACA,CAhCA;EAiCAC;IACAC,WADA,yBACA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBAFA;gBAAA,OAGAA,wBAHA;;cAAA;gBAAA;gBAGAR,KAHA,uBAGAA,KAHA;gBAGAS,IAHA,uBAGAA,IAHA;;gBAIA;gBACA;kBACA;;kBACA;gBACA;;gBACA;gBACA;gBAVA;gBAAA;;cAAA;gBAAA;gBAAA;gBAYAC;;cAZA;gBAAA;gBAcA;gBAdA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAgBA,CAjBA;IAkBAjB,OAlBA,qBAkBA;MACA;IACA,CApBA;IAqBAkB,OArBA,mBAqBAC,GArBA,EAqBA;MACA;MACA;IACA,CAxBA;IAyBA;IAEA;IACAC,MA5BA,kBA4BAC,EA5BA,EA4BA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA;kBACAC,uBADA;kBAEAC,sBAFA;kBAGAC;gBAHA,EAFA;;cAAA;gBAAA;gBAAA,OAOAC,cAPA;;cAAA;gBAQA;;gBARA;gBAAA;;cAAA;gBAAA;gBAAA;gBAUAC;;cAVA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAYA,CAxCA;IAyCAC,UAzCA,wBAyCA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,+CADA;;cAAA;gBACAC,GADA;gBAEAH;gBACA;;cAHA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA,CA7CA;IA8CAI,cA9CA,0BA8CAT,EA9CA,EA8CA;MACA;MACA;IACA,CAjDA,CAkDA;IACA;IACA;IACA;;EArDA;AAjCA","names":["name","components","addRole","addSetpermissions","mixins","data","activeName","page","pagesize","total","rowsList","loading","visible","CompanyInfo","dialogVisible","mounted","methods","getRoleList","rows","MessageChannel","editBtn","row","delRow","id","confirmButtonText","cancelButtonText","type","deleteRole","console","getCompany","getCompanyInfo","res","setpermissions"],"sourceRoot":"src/views/setting","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-card>\r\n      <el-tabs v-model=\"activeName\">\r\n        <el-tab-pane label=\"角色管理\" name=\"first\">\r\n          <el-row>\r\n            <el-col :span=\"24\"><div class=\"grid-content bg-purple-dark\" />\r\n              <el-button v-isHot=\"'roles-add'\" type=\"primary\" style=\"margin-left:10px\" size=\"small\" icon=\"el-icon-plus\" @click=\"visible = true\">新建角色</el-button>\r\n            </el-col>\r\n          </el-row>\r\n          <el-table\r\n            v-loading=\"loading\"\r\n            :data=\"rowsList\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-table-column\r\n              type=\"index\"\r\n              label=\"序号\"\r\n              width=\"120\"\r\n            />\r\n            <el-table-column\r\n              label=\"角色名称\"\r\n              width=\"240\"\r\n              prop=\"name\"\r\n            />\r\n            <el-table-column\r\n              label=\"描述\"\r\n              prop=\"description\"\r\n            />\r\n            <el-table-column label=\"操作\">\r\n              <template slot-scope=\"{row}\">\r\n                <el-button size=\"small\" type=\"success\" @click=\"setpermissions(row.id)\">分配权限</el-button>\r\n                <el-button v-isHot=\"'roles-emit'\" size=\"small\" type=\"primary\" @click=\"editBtn(row)\">编辑</el-button>\r\n                <el-button v-isHot=\"'roles-move'\" size=\"small\" type=\"danger\" @click=\"delRow(row.id)\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <el-row type=\"flex\" justify=\"end\" align=\"middle\" style=\"height:60px;\">\r\n            <!-- // background   添加背景\r\n            // current-page 当前的页面\r\n            // page-size    每一页展示的条数\r\n            // page-sizes   每页显示个数选择器的选项设置\r\n            // total        总共多少条数据\r\n            // layout       布局\r\n            // current-change 改变当前页码的触发（current-page 值改变的时候触发）\r\n            // size-change 改变页面的数据条数的时候 触发（page-size 值改变的时候触发） -->\r\n            <el-pagination\r\n              v-if=\"total > 0\"\r\n              background\r\n              layout=\"prev, pager, next,sizes\"\r\n              :total=\"total\"\r\n              :current-page.sync=\"page.page\"\r\n              :page-size.sync=\"page.pagesize\"\r\n              :page-sizes=\"[2,5,10,15]\"\r\n              @current-change=\"getRoleList\"\r\n              @size-change=\"getRoleList\"\r\n            />\r\n          </el-row>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"公司信息\" name=\"second\">\r\n          <el-alert\r\n            title=\"对公司名称、公司地址、营业执照、公司地区的更新，将使得公司资料被重新审核，请谨慎修改\"\r\n            type=\"info\"\r\n            show-icon\r\n            :closable=\"false\"\r\n          />\r\n          <el-form label-width=\"120px\" style=\"margin-top:50px\">\r\n            <el-form-item label=\"公司名称\">\r\n              <el-input v-model=\"CompanyInfo.name\" disabled style=\"width:400px\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"公司地址\">\r\n              <el-input v-model=\"CompanyInfo.companyAddress\" disabled style=\"width:400px\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱\">\r\n              <el-input v-model=\"CompanyInfo.mailbox\" disabled style=\"width:400px\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"备注\">\r\n              <el-input v-model=\"CompanyInfo.remarks\" type=\"textarea\" :rows=\"3\" disabled style=\"width:400px\" />\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-card>\r\n    <addRole ref=\"addRole\" :visible.sync=\"visible\" @createAdd=\"getRoleList\" />\r\n    <addSetpermissions ref=\"addSetpermissions\" :dialog-visible.sync=\"dialogVisible\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport addRole from './components/addRole.vue'\r\nimport { getRoleList, deleteRole, getCompanyInfo } from '@/api/setting'\r\nimport addSetpermissions from './components/addSetpermissions.vue'\r\nimport disabledRoleBtn from '@/misins/disabledRoleBtn'\r\nexport default {\r\n  name: 'HrsaasIndex',\r\n  components: {\r\n    addRole, addSetpermissions\r\n  },\r\n  mixins: [disabledRoleBtn],\r\n  data() {\r\n    return {\r\n      activeName: 'first',\r\n      page: {\r\n        page: 1,\r\n        pagesize: 10\r\n      },\r\n      total: 0,\r\n      rowsList: [],\r\n      loading: false,\r\n      visible: false,\r\n      CompanyInfo: [],\r\n      dialogVisible: false\r\n    }\r\n  },\r\n  // computed: {\r\n  //   disabledRole() {\r\n  //     return function(disabledRoleId) {\r\n  //       return !this.$store.state.user.userinfo.roles.points.includes(disabledRoleId)\r\n  //     }\r\n  //   }\r\n  // },\r\n\r\n  mounted() {\r\n    this.getRoleList()\r\n    this.getCompany()\r\n  },\r\n  methods: {\r\n    async getRoleList() {\r\n      try {\r\n        this.loading = true\r\n        const { total, rows } = await getRoleList(this.page)\r\n        // total 大于0 并且 rows的length === 0 这种情况并不是正在的没有数据 是有的，要重新发起请求\r\n        if (total > 0 && rows.length === 0) {\r\n          this.page.page = this.page.page - 1\r\n          this.getRoleList()\r\n        }\r\n        this.rowsList = rows\r\n        this.total = total\r\n      } catch (error) {\r\n        MessageChannel.error(error)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    addRole() {\r\n      this.visible = true\r\n    },\r\n    editBtn(row) {\r\n      this.$refs.addRole.formData = { ...row }\r\n      this.visible = true\r\n    },\r\n    // newPropo() {\r\n\r\n    // }\r\n    async delRow(id) {\r\n      try {\r\n        await this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        await deleteRole(id)\r\n        this.getRoleList()\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    async getCompany() {\r\n      const res = await getCompanyInfo(this.$store.getters.companyId)\r\n      console.log(res)\r\n      this.CompanyInfo = res\r\n    },\r\n    setpermissions(id) {\r\n      this.$refs.addSetpermissions.getpermissionRleid(id)\r\n      this.dialogVisible = true\r\n    }\r\n    // disabledRole(disabledId) {\r\n    //   // console.log(this.$store.state.user.userinfo)\r\n    //   return !this.$store.state.user.userinfo.roles.points.includes(disabledId)\r\n    // }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// zzz{\r\n//   line-height: ;\r\n// }\r\n</style>\r\n"]}]}