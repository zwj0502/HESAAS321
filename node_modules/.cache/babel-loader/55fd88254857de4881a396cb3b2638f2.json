{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\views\\departments\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\views\\departments\\index.vue","mtime":1665042794925},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\babel.config.js","mtime":1663904824000},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661582974512},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1661052815255},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661582974512},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\vue-loader\\lib\\index.js","mtime":1663904991653}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL2hyc2FhcygxKS9ocnNhYXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvaHJzYWFzKDEpL2hyc2Fhcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9ocnNhYXMoMSkvaHJzYWFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHRyZWV0b29scyBmcm9tICcuL2NvbXBvbmV0L3RyZWUtdG9vbHMudnVlJzsKaW1wb3J0IHsgZ2V0RGVwYXJ0bWVudHMgYXMgX2dldERlcGFydG1lbnRzIH0gZnJvbSAnQC9hcGkvZGVwYXJ0bWVubnRzJzsKaW1wb3J0IHsgdHJhbkxpc3REZXBhciB9IGZyb20gJ0AvdXRpbHMvdHJhbkxpc3REZXBhcic7CmltcG9ydCBhZGREZXBhcnQgZnJvbSAnLi9jb21wb25ldC9hZGQtZGVwYXJ0LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSHJzYWFzSW5kZXgnLAogIGNvbXBvbmVudHM6IHsKICAgIHRyZWV0b29sczogdHJlZXRvb2xzLAogICAgYWRkRGVwYXJ0OiBhZGREZXBhcnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBsYWJlbDogJ25hbWUnCiAgICAgIH0sCiAgICAgIGRlcGFydHM6IFtdLAogICAgICBjb21wYW55OiB7fSwKICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgIHRyZWVOb2RlOiB7fSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXREZXBhcnRtZW50cygpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlTm9kZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVOb2RlQ2xpY2soZGF0YSkgewogICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgIH0sCiAgICBnZXREZXBhcnRtZW50czogZnVuY3Rpb24gZ2V0RGVwYXJ0bWVudHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX2dldERlcGFydG1lbnQsIGRlcHRzLCBjb21wYW55TmFtZSwgY29tcGFueU1hbmFnZTsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0RGVwYXJ0bWVudHMoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3lpZWxkJF9nZXREZXBhcnRtZW50ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRlcHRzID0gX3lpZWxkJF9nZXREZXBhcnRtZW50LmRlcHRzOwogICAgICAgICAgICAgICAgY29tcGFueU5hbWUgPSBfeWllbGQkX2dldERlcGFydG1lbnQuY29tcGFueU5hbWU7CiAgICAgICAgICAgICAgICBjb21wYW55TWFuYWdlID0gX3lpZWxkJF9nZXREZXBhcnRtZW50LmNvbXBhbnlNYW5hZ2U7CiAgICAgICAgICAgICAgICBfdGhpcy5kZXBhcnRzID0gdHJhbkxpc3REZXBhcihkZXB0cywgJycpOwogICAgICAgICAgICAgICAgX3RoaXMuY29tcGFueSA9IHsKICAgICAgICAgICAgICAgICAgbmFtZTogY29tcGFueU5hbWUsCiAgICAgICAgICAgICAgICAgIG1hbmFnZXI6IGNvbXBhbnlNYW5hZ2UsCiAgICAgICAgICAgICAgICAgIGlkOiAnJwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMTApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCwgMTAsIDEzXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGREZXB0czogZnVuY3Rpb24gYWRkRGVwdHMobm9kZSkgewogICAgICBjb25zb2xlLmxvZygxMjMpOwogICAgICB0aGlzLnNob3dEaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLnRyZWVOb2RlID0gbm9kZTsKICAgIH0sCiAgICBlaXREZXB0czogZnVuY3Rpb24gZWl0RGVwdHMobm9kZSkgewogICAgICB0aGlzLnRyZWVOb2RlID0gbm9kZTsKICAgICAgdGhpcy5zaG93RGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5hZGREZXBhcnQuZm9ybURhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCBub2RlKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;EACAA,mBADA;EAEAC;IACAC,oBADA;IAEAC;EAFA,CAFA;EAMAC,IANA,kBAMA;IACA;MACAC;QACAC;MADA,CADA;MAIAC,WAJA;MAKAC,WALA;MAMAC,iBANA;MAOAC,YAPA;MAQAC;IARA;EAUA,CAjBA;EAkBAC,OAlBA,qBAkBA;IACA;EACA,CApBA;EAqBAC;IACAC,eADA,2BACAV,IADA,EACA;MACAW;IACA,CAHA;IAIAC,cAJA,4BAIA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBAFA;gBAAA,OAIAA,iBAJA;;cAAA;gBAAA;gBAIAC,KAJA,yBAIAA,KAJA;gBAIAC,WAJA,yBAIAA,WAJA;gBAIAC,aAJA,yBAIAA,aAJA;gBAKA;gBACA;kBAAAnB;kBAAAoB;kBAAAC;gBAAA;;cANA;gBAAA;gBAQA;gBARA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUA,CAdA;IAeAC,QAfA,oBAeAC,IAfA,EAeA;MACAR;MACA;MACA;IACA,CAnBA;IAoBAS,QApBA,oBAoBAD,IApBA,EAoBA;MACA;MACA;MACA;IACA;EAxBA;AArBA","names":["name","components","treetools","addDepart","data","defaultProps","label","departs","company","showDialog","treeNode","loading","mounted","methods","handleNodeClick","console","getDepartments","depts","companyName","companyManage","manager","id","addDepts","node","eitDepts"],"sourceRoot":"src/views/departments","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div v-loading=\"loading\" class=\"app-container\">\r\n    <el-card>\r\n      <treetools :tree-node=\"company\" :is-rot=\"false\" @addDepts=\"addDepts\" />\r\n    </el-card>\r\n    <el-tree :data=\"departs\" :props=\"defaultProps\" :default-expand-all=\"true\">\r\n      <treetools slot-scope=\"{ data }\" :tree-node=\"data\" @addDepts=\"addDepts\" @eitDepts=\"eitDepts\" @deleteBtn=\"getDepartments\" />\r\n    </el-tree>\r\n    <addDepart ref=\"addDepart\" :show-dialog.sync=\"showDialog\" :tree-node=\"treeNode\" @submit=\"getDepartments\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport treetools from './componet/tree-tools.vue'\r\nimport { getDepartments } from '@/api/departmennts'\r\nimport { tranListDepar } from '@/utils/tranListDepar'\r\nimport addDepart from './componet/add-depart.vue'\r\nexport default {\r\n  name: 'HrsaasIndex',\r\n  components: {\r\n    treetools,\r\n    addDepart\r\n  },\r\n  data() {\r\n    return {\r\n      defaultProps: {\r\n        label: 'name'\r\n      },\r\n      departs: [],\r\n      company: {},\r\n      showDialog: false,\r\n      treeNode: {},\r\n      loading: false\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getDepartments()\r\n  },\r\n  methods: {\r\n    handleNodeClick(data) {\r\n      console.log(data)\r\n    },\r\n    async getDepartments() {\r\n      try {\r\n        this.loading = false\r\n\r\n        const { depts, companyName, companyManage } = await getDepartments()\r\n        this.departs = tranListDepar(depts, '')\r\n        this.company = { name: companyName, manager: companyManage, id: '' }\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    addDepts(node) {\r\n      console.log(123)\r\n      this.showDialog = true\r\n      this.treeNode = node\r\n    },\r\n    eitDepts(node) {\r\n      this.treeNode = node\r\n      this.showDialog = true\r\n      this.$refs.addDepart.formData = { ...node }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.departments-container {\r\n  width: 500px;\r\n  margin: 20px auto;\r\n  .el-tree {\r\n    .el-tree-node__content {\r\n      // padding-right: 20px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}