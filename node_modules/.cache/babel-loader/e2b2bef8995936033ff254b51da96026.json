{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\utils\\request.js","mtime":1664164591623},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\babel.config.js","mtime":1663904824000},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661582974512},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1661052815255},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\eslint-loader\\index.js","mtime":1661583002635}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKLy8g5a6e546w5a+5XGRvY3NccnVsZXNcc3BhY2VkLWNvbW1lbnRheGlvcwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgdGltZW91dDogNTAwMAp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIOWcqOi/meS4quS9jee9rumcgOimgee7n+S4gOeahOWOu+azqOWFpXRva2VuCiAgaWYgKHN0b3JlLmdldHRlcnMudG9rZW4pIHsKICAgIC8vIOWmguaenHRva2Vu5a2Y5ZyoIOazqOWFpXRva2VuCiAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gIkJlYXJlciAiLmNvbmNhdChzdG9yZS5nZXR0ZXJzLnRva2VuKTsKICB9CgogIHJldHVybiBjb25maWc7IC8vIOW/hemhu+i/lOWbnumFjee9rgp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8g5ZON5bqU5oum5oiq5ZmoCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgLy8gYXhpb3Ppu5jorqTliqDkuobkuIDlsYJkYXRhCiAgdmFyIF9yZXNwb25zZSRkYXRhID0gcmVzcG9uc2UuZGF0YSwKICAgICAgc3VjY2VzcyA9IF9yZXNwb25zZSRkYXRhLnN1Y2Nlc3MsCiAgICAgIG1lc3NhZ2UgPSBfcmVzcG9uc2UkZGF0YS5tZXNzYWdlLAogICAgICBkYXRhID0gX3Jlc3BvbnNlJGRhdGEuZGF0YTsgLy8gICDopoHmoLnmja5zdWNjZXNz55qE5oiQ5Yqf5LiO5ZCm5Yaz5a6a5LiL6Z2i55qE5pON5L2cCgogIGlmIChzdWNjZXNzKSB7CiAgICByZXR1cm4gZGF0YTsKICB9IGVsc2UgewogICAgLy8g5Lia5Yqh5bey57uP6ZSZ6K+v5LqGIOi/mOiDvei/m3RoZW4gPyDkuI3og70g77yBIOW6lOivpei/m2NhdGNoCiAgICBNZXNzYWdlLmVycm9yKG1lc3NhZ2UpOyAvLyDmj5DnpLrplJnor6/mtojmga8KCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1lc3NhZ2UpKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIE1lc3NhZ2UuZXJyb3IoZXJyb3IubWVzc2FnZSk7IC8vIOaPkOekuumUmeivr+S/oeaBrwoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOyAvLyDov5Tlm57miafooYzplJnor68g6K6p5b2T5YmN55qE5omn6KGM6ZO+6Lez5Ye65oiQ5YqfIOebtOaOpei/m+WFpSBjYXRjaAp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","Message","store","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","getters","token","headers","error","Promise","reject","response","data","success","message","Error"],"sources":["C:/Users/Administrator/Desktop/hrsaas(1)/hrsaas/src/utils/request.js"],"sourcesContent":["// 实现对\\docs\\rules\\spaced-commentaxios\r\nimport axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport store from '@/store'\r\nconst service = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_API,\r\n  timeout: 5000\r\n})\r\nservice.interceptors.request.use(config => { \r\n   // 在这个位置需要统一的去注入token\r\n   if (store.getters.token) {\r\n    // 如果token存在 注入token\r\n    config.headers['Authorization'] = `Bearer ${store.getters.token}`\r\n  }\r\n  return config // 必须返回配置\r\n}, error => {\r\n  return Promise.reject(error)\r\n})\r\n// 响应拦截器\r\nservice.interceptors.response.use(response => {\r\n  // axios默认加了一层data\r\n  const { success, message, data } = response.data\r\n  //   要根据success的成功与否决定下面的操作\r\n  if (success) {\r\n    return data\r\n  } else {\r\n    // 业务已经错误了 还能进then ? 不能 ！ 应该进catch\r\n    Message.error(message) // 提示错误消息\r\n    return Promise.reject(new Error(message))\r\n  }\r\n}, error => {\r\n  Message.error(error.message) // 提示错误信息\r\n  return Promise.reject(error) // 返回执行错误 让当前的执行链跳出成功 直接进入 catch\r\n})\r\nexport default service\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;EAC3BC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADM;EAE3BC,OAAO,EAAE;AAFkB,CAAb,CAAhB;AAIAN,OAAO,CAACO,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAAC,MAAM,EAAI;EACxC;EACA,IAAIX,KAAK,CAACY,OAAN,CAAcC,KAAlB,EAAyB;IACxB;IACAF,MAAM,CAACG,OAAP,CAAe,eAAf,qBAA4Cd,KAAK,CAACY,OAAN,CAAcC,KAA1D;EACD;;EACD,OAAOF,MAAP,CANyC,CAM3B;AACf,CAPD,EAOG,UAAAI,KAAK,EAAI;EACV,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CATD,E,CAUA;;AACAd,OAAO,CAACO,YAAR,CAAqBU,QAArB,CAA8BR,GAA9B,CAAkC,UAAAQ,QAAQ,EAAI;EAC5C;EACA,qBAAmCA,QAAQ,CAACC,IAA5C;EAAA,IAAQC,OAAR,kBAAQA,OAAR;EAAA,IAAiBC,OAAjB,kBAAiBA,OAAjB;EAAA,IAA0BF,IAA1B,kBAA0BA,IAA1B,CAF4C,CAG5C;;EACA,IAAIC,OAAJ,EAAa;IACX,OAAOD,IAAP;EACD,CAFD,MAEO;IACL;IACApB,OAAO,CAACgB,KAAR,CAAcM,OAAd,EAFK,CAEkB;;IACvB,OAAOL,OAAO,CAACC,MAAR,CAAe,IAAIK,KAAJ,CAAUD,OAAV,CAAf,CAAP;EACD;AACF,CAXD,EAWG,UAAAN,KAAK,EAAI;EACVhB,OAAO,CAACgB,KAAR,CAAcA,KAAK,CAACM,OAApB,EADU,CACmB;;EAC7B,OAAOL,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CAFU,CAEmB;AAC9B,CAdD;AAeA,eAAed,OAAf"}]}