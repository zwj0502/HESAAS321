{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\views\\employees\\components\\assignRole.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\src\\views\\employees\\components\\assignRole.vue","mtime":1665904842262},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661678001124},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1663928692628},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661678001124},{"path":"C:\\Users\\Administrator\\Desktop\\hrsaas(1)\\hrsaas\\node_modules\\vue-loader\\lib\\index.js","mtime":1664288167520}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyByb2xlc0FwaSB9IGZyb20gJ0AvYXBpL3JvbGVzJw0KaW1wb3J0IHsgZ2V0VXNlckRldGFpbEJ5SWQsIHNldGVtcGxveWVlc1JvbGVzIH0gZnJvbSAnQC9hcGkvdXNlcicNCi8vIGltcG9ydCB7IHNldGVtcGxveWVlc1JvbGVzIH0gZnJvbSAnQC9hcGkvdXNlcicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1JvbGUnLA0KICBwcm9wczogew0KICAgIGRpYWxvZ1Zpc2libGVTZXQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2hlY2tMaXN0OiBbXSwNCiAgICAgIHJvbGU6IFtdLA0KICAgICAgdXNlcklkOiAnJw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGhhbnJkY2xvc2UoKSB7DQogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZGlhbG9nVmlzaWJsZVNldCcsIGZhbHNlKQ0KICAgIC8vICAgdGhpcy5jaGVja0xpc3QgPSBbXQ0KICAgIH0sDQogICAgYXN5bmMgb3BlbkJ0bigpIHsNCiAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgcm9sZXNBcGkoKQ0KICAgICAgdGhpcy5yb2xlID0gcm93cw0KICAgIH0sDQogICAgYXN5bmMgZ2V0ZW1wbG95ZXNzUm9sZShpZCkgew0KICAgICAgdGhpcy51c2VySWQgPSBpZA0KICAgICAgLy8gICBjb25zb2xlLmxvZygn5ZGY5bel5L+h5oGvJykNCiAgICAgIC8vICAgY29uc29sZS5sb2coaWQpDQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRVc2VyRGV0YWlsQnlJZChpZCkNCiAgICAgIC8vICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgdGhpcy5jaGVja0xpc3QgPSByZXMucm9sZUlkcyB8fCBbXQ0KICAgIH0sDQogICAgYXN5bmMgc2V0ZW1wbG95ZWVzUm9sZXNCdG4oKSB7DQogICAgICBpZiAoIXRoaXMuY2hlY2tMaXN0Lmxlbmd0aCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4jeiDveS4uuepuicpDQogICAgICB0cnkgew0KICAgICAgICBhd2FpdCBzZXRlbXBsb3llZXNSb2xlcyh7IGlkOiB0aGlzLnVzZXJJZCwgcm9sZUlkczogdGhpcy5jaGVja0xpc3QgfSkNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmiJDlip8nKQ0KICAgICAgICB0aGlzLmhhbnJkY2xvc2UoKQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5aSx6LSlJykNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["assignRole.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"assignRole.vue","sourceRoot":"src/views/employees/components","sourcesContent":["<template>\r\n  <el-dialog\r\n    title=\"权限分配\"\r\n    :visible=\"dialogVisibleSet\"\r\n    width=\"50%\"\r\n    @close=\"hanrdclose\"\r\n    @open=\"openBtn\"\r\n  >\r\n    <el-checkbox-group v-model=\"checkList\">\r\n      <el-checkbox v-for=\"item in role\" :key=\"item.id\" :label=\"item.id\">{{ item.name }}</el-checkbox>\r\n    </el-checkbox-group>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"$emit('update:dialogVisibleSet',false)\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"setemployeesRolesBtn\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { rolesApi } from '@/api/roles'\r\nimport { getUserDetailById, setemployeesRoles } from '@/api/user'\r\n// import { setemployeesRoles } from '@/api/user'\r\nexport default {\r\n  name: 'Role',\r\n  props: {\r\n    dialogVisibleSet: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      checkList: [],\r\n      role: [],\r\n      userId: ''\r\n    }\r\n  },\r\n  methods: {\r\n    hanrdclose() {\r\n      this.$emit('update:dialogVisibleSet', false)\r\n    //   this.checkList = []\r\n    },\r\n    async openBtn() {\r\n      const { rows } = await rolesApi()\r\n      this.role = rows\r\n    },\r\n    async getemployessRole(id) {\r\n      this.userId = id\r\n      //   console.log('员工信息')\r\n      //   console.log(id)\r\n      const res = await getUserDetailById(id)\r\n      //   console.log(res)\r\n      this.checkList = res.roleIds || []\r\n    },\r\n    async setemployeesRolesBtn() {\r\n      if (!this.checkList.length) return this.$message.error('不能为空')\r\n      try {\r\n        await setemployeesRoles({ id: this.userId, roleIds: this.checkList })\r\n        this.$message.success('成功')\r\n        this.hanrdclose()\r\n      } catch (error) {\r\n        this.$message.error('失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}